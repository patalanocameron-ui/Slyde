<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>$lyde - P2P Lending Platform</title>
  <meta name="description" content="$lyde ‚Äî a friendly P2P lending experience." />
  <meta name="theme-color" content="#183A67" />
  <link rel="icon" href="favicon.ico" />
  <style>
    :root{
      --primary:#FFF7EA; --primary-2:#FFFDF8; --primary-3:#FAF2E4;
      --secondary:#183A67; --secondary-600:#102744; --secondary-acc:#28568D;
      --border:#E4D9C5; --text:#183A67; --muted:#4C6286;
      --success:#2C8C4A; --success-neon:#39FF14; --danger:#C44536; --pending:#D97B00; --pending-dark:#B36200;
      --shadow-lg:0 20px 40px rgba(24,58,103,.15); --shadow-sm:0 5px 15px rgba(24,58,103,.10);
      --radius:20px; --fs-base:16px; --fs-lg:18px; --fs-xl:20px;
    }
    @media (min-width:900px){ :root{ --fs-base:17px; --fs-lg:19px; --fs-xl:22px; } }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Inter,system-ui,sans-serif;
      background:#ffffff; color:var(--text); font-size:var(--fs-base); line-height:1.4; overflow:hidden;
      position:relative;
    }
    .bg{position:fixed; inset:0; z-index:0; pointer-events:none; background-attachment:scroll}
    .app-container{
      width:100%; max-width:400px; height:100vh;
      background:rgba(255,255,255,0.85);
      border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow-lg);
      display:flex; flex-direction:column; position:relative; z-index:1; margin-inline:auto
    }
    @media (min-width:900px){ .app-container{max-width:none;width:100vw;height:100vh;border-radius:0;box-shadow:none} }
    .screen{display:none;flex-direction:column;height:100%;overflow:hidden}.screen.active{display:flex}
    .content-area{flex:1;overflow:auto;padding:20px;padding-bottom:100px}@media (min-width:900px){ .content-area{padding:28px} }
    .header{display:flex;flex-direction:column;background:var(--secondary);color:var(--primary);flex-shrink:0;position:relative}
    .status-row{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;font-size:14px;font-weight:600}
    .nav-row{display:flex;align-items:center;justify-content:space-between;padding:15px 20px}
    @media (min-width:900px){ .status-row{display:none} }
    .brand-text{font-size:18px}
    @media (min-width:900px){ .brand-text{font-size:20px} }
    .hamburger{background:transparent;border:1px solid rgba(255,247,234,.35);border-radius:10px;color:var(--primary);padding:8px 10px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}
    .hamburger:focus{outline:3px solid rgba(255,247,234,.5);outline-offset:2px}
    .hamburger svg{width:22px;height:22px}
    .menu{display:none;position:absolute;right:16px;top:56px;z-index:20;background:var(--primary-2);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow-lg);min-width:180px;overflow:hidden}
    .menu.open{display:block}.menu button{display:block;width:100%;text-align:left;background:transparent;border:none;color:var(--text);padding:10px 14px;cursor:pointer;font-size:14px}
    .menu button:hover{background:var(--primary-3)}
    .brand{display:inline-flex;align-items:center;font-weight:800;letter-spacing:.2px}
    .login-container{padding:40px 20px;text-align:center;display:flex;flex-direction:column;justify-content:center;height:100%;max-width:520px;margin:0 auto}
    .logo{font-size:32px;font-weight:700;color:var(--secondary);margin-bottom:40px}
    .input-group{margin-bottom:20px;text-align:left}.input-label{display:block;margin-bottom:8px;font-weight:500}
    .input{width:100%;padding:12px 15px;font-size:16px;border-radius:10px;background:#fff;border:2px solid var(--border);transition:border-color .2s,box-shadow .2s}
    .input:focus{outline:none;border-color:var(--secondary);box-shadow:0 0 0 3px rgba(24,58,103,.15)} .link{color:var(--secondary);text-decoration:none;font-size:14px}
    .btn{width:100%;padding:15px;border:none;border-radius:10px;cursor:pointer;background:var(--secondary);color:var(--primary);font-weight:600;font-size:16px;transition:transform .08s,background .2s}
    .btn:hover{background:var(--secondary-600)}.btn:active{transform:translateY(1px)}
    .btn-secondary{background:#A6B1C2;color:var(--secondary)}.btn-secondary:hover{background:#8A96A8;color:#fff}
    .btn-success-neon{background:var(--success-neon); color:#0b3b12; text-shadow:0 0 6px rgba(57,255,20,.45)}
    .inline-actions{display:flex;gap:10px;flex-wrap:wrap}.inline-actions .btn{width:auto;padding:12px 16px;font-size:14px}
    .inline-actions .pill{display:inline-flex;align-items:center;gap:8px;background:#EDEFF4;border:1px solid var(--border);padding:10px 14px;border-radius:999px;font-weight:700;color:var(--secondary)}
    .lending-section{display:flex;gap:15px;margin-bottom:30px}@media (max-width:899px){.lending-section{flex-direction:column}}
    .lending-card{flex:1;padding:20px;border-radius:15px;color:var(--primary);text-align:center;cursor:pointer;background:linear-gradient(135deg,var(--secondary),var(--secondary-acc));transition:transform .2s}
    .lending-card:hover{transform:translateY(-2px)}.lending-card.borrow{background:linear-gradient(135deg,var(--pending),var(--pending-dark))}
    .amount{font-size:20px;font-weight:700;margin-bottom:10px}.rate{font-size:14px;opacity:.9}
    @media (min-width:900px){ .lending-card{padding:28px}.amount{font-size:22px} }
    .balance-card{background:linear-gradient(135deg,var(--secondary),var(--secondary-acc));color:var(--primary);padding:25px;border-radius:15px;margin-bottom:30px}
    .balance{font-size:32px;font-weight:700;margin-bottom:10px}.balance-subtitle{opacity:.9;font-size:14px}
    @media (min-width:900px){ .balance-card{padding:32px}.balance{font-size:36px} }
    .connection-grid{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-bottom:30px}
    @media (min-width:1200px){ .connection-grid{grid-template-columns:repeat(3,1fr);gap:18px} }
    .connection-card{background:var(--primary-2);border:2px solid var(--border);border-radius:15px;padding:20px;text-align:center;cursor:pointer;transition:transform .2s,border-color .2s}
    .connection-card:hover{border-color:var(--secondary);transform:translateY(-2px)}
    .connection-icon{width:50px;height:50px;background:var(--primary-3);border-radius:10px;margin:0 auto 15px;display:flex;align-items:center;justify-content:center;font-size:24px}
    .chart-container{background:var(--primary-2);border:1px solid var(--border);border-radius:15px;padding:20px;margin-bottom:20px;text-align:center}
    .mini-chart{width:100%;height:120px;border-radius:8px;background:var(--primary-3)}
    .activity-item{display:flex;align-items:center;padding:15px 0;border-bottom:1px solid var(--border)}.activity-item:last-child{border-bottom:none}
    .activity-avatar{width:40px;height:40px;background:var(--secondary);border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--primary);font-weight:700;margin-right:15px}
    .activity-details{flex:1}.activity-amount{font-weight:600;color:var(--success)}.activity-amount.negative{color:var(--danger)}
    .profile-section{margin-bottom:30px}.profile-field{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid var(--border)}.profile-field:last-child{border-bottom:none}
    .payment-methods{display:flex;gap:10px;margin:20px 0}
    .payment-method{flex:1;padding:10px;background:var(--primary-3);border:2px solid transparent;border-radius:8px;text-align:center;cursor:pointer;font-size:12px;font-weight:600;transition:border-color .2s,background .2s,color .2s}
    .payment-method:hover{border-color:var(--secondary)}.payment-method.active{border-color:var(--secondary);background:#EDEFF4;color:var(--secondary)}
    .mobile-nav{position:fixed;left:0;right:0;bottom:0;background:var(--primary-2);border-top:1px solid var(--border);padding:15px;display:flex;justify-content:space-around;z-index:100}
    .mobile-nav-btn{background:none;border:none;border-radius:8px;cursor:pointer;padding:10px;font-size:20px;min-height:44px;min-width:44px;transition:background .2s,color .2s}
    .mobile-nav-btn:hover{background:var(--primary-3)}.mobile-nav-btn.active{background:var(--secondary);color:var(--primary)}
    @media (min-width:900px){ .mobile-nav{display:none} }
    .quick-amounts{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin:16px 0 20px}
    .quick-amount{padding:10px;background:var(--primary-3);border:2px solid transparent;border-radius:8px;text-align:center;cursor:pointer;font-weight:700;font-size:14px;transition:border-color .2s,background .2s,color .2s}
    .quick-amount:hover{border-color:var(--secondary)}.quick-amount.active{background:var(--secondary);color:var(--primary)}
    .quick-amount-input{background:var(--primary-3);border:2px solid transparent;border-radius:8px;display:flex;align-items:center;justify-content:center;padding:0 8px;overflow:hidden}
    .quick-amount-input:focus-within{border-color:var(--secondary)}
    .quick-amount-input .input{padding:10px 8px;text-align:center;border:0;background:transparent;min-width:0;font-weight:700;font-size:14px;width:100%}
    .quick-amount-input .input::placeholder{color:#8b8b8b}
    .slider{-webkit-appearance:none;width:100%;height:10px;border-radius:999px;outline:none;background:linear-gradient(90deg,var(--secondary),var(--secondary-acc))}
    .slider::-webkit-slider-thumb{-webkit-appearance:none;width:22px;height:22px;border-radius:50%;background:#fff;border:3px solid var(--secondary);box-shadow:0 2px 6px rgba(0,0,0,.2);cursor:pointer}
    .slider:disabled{filter:grayscale(.3) opacity(.8)}
    .slider::-moz-range-track{height:10px;border-radius:999px;background:linear-gradient(90deg,var(--secondary),var(--secondary-acc))}
    .slider::-moz-range-thumb{width:22px;height:22px;border-radius:50%;background:#fff;border:3px solid var(--secondary);box-shadow:0 2px 6px rgba(0,0,0,.2);cursor:pointer}
    .slider-container{margin:12px 0}
    .payback-row{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;margin:12px 0 4px}
    .switch{position:relative;width:46px;height:26px;background:#cbd5e1;border-radius:999px;border:1px solid var(--border);cursor:pointer;flex-shrink:0;transition:background .2s}
    .switch:has(input:checked){background:var(--success-neon)}
    .switch input{position:absolute;opacity:0;width:0;height:0}
    .switch-handle{position:absolute;top:50%;left:2px;transform:translateY(-50%);width:22px;height:22px;border-radius:50%;background:#fff;border:2px solid var(--secondary);transition:left .2s}
    .switch input:checked + .switch-handle{left:22px}
    .payback-input{display:flex;gap:8px;align-items:center}.payback-input .input{max-width:200px}
    .hint{font-size:12px;color:#6b7280;margin-top:6px}
    #payback-container,#payback-container-borrow,#payback-container-lend{display:none}
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0 14px}
    .chip{background:var(--primary-3);border:1px solid var(--border);border-radius:20px;padding:6px 10px;font-size:12px;font-weight:600;cursor:pointer}
    .chip.active{background:#EDEFF4;border-color:var(--secondary);color:var(--secondary)}
    .panel{background:#fff;border:1px solid var(--border);border-radius:15px;padding:16px;margin-bottom:16px}
    .panel h4{margin-bottom:8px;color:var(--secondary)}
    .row{display:flex;gap:12px;flex-wrap:wrap}.row > *{flex:1}
    .summary{background:#E0EEF9;border:1px solid var(--border);padding:14px;border-radius:10px}
    .muted{color:#596b86;font-size:13px}
    .list{display:flex;flex-direction:column;gap:10px}
    .list-item{display:flex;align-items:center;gap:12px;padding:12px;border:1px solid var(--border);border-radius:12px;background:var(--primary-2);cursor:pointer}
    .list-item:hover{border-color:var(--secondary)}
    .list-avatar{width:40px;height:40px;border-radius:50%;background:var(--secondary);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:800}
  </style>
</head>
<body>
  <svg class="bg" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" aria-hidden="true">
    <defs>
      <pattern id="currency-tile" width="160" height="160" patternUnits="userSpaceOnUse">
        <rect width="160" height="160" fill="#ffffff" />
        <g fill="none" stroke="#b7b7b7" stroke-width="0.9" stroke-linejoin="round" stroke-linecap="round"
           paint-order="stroke" font-weight="300" font-size="34" text-anchor="middle" dominant-baseline="middle">
          <text x="32"  y="32">$</text>
          <text x="80"  y="32">‚Ç¨</text>
          <text x="128" y="32">¬£</text>
          <text x="32"  y="80">¬•</text>
          <text x="80"  y="80">‚Çø</text>
          <text x="128" y="80">‚Çπ</text>
          <text x="32"  y="128">‚Ç©</text>
          <text x="80"  y="128">‚Ç±</text>
          <text x="128" y="128">‚ÇΩ</text>
        </g>
        <g fill="none" stroke="#c4c4c4" stroke-width="0.8" font-weight="300" font-size="28"
           text-anchor="middle" dominant-baseline="middle" opacity="0.6" transform="translate(16,16)">
          <text x="40"  y="40">‡∏ø</text>
          <text x="120" y="40">‚Ç¶</text>
          <text x="80"  y="120">‚Ç´</text>
        </g>
      </pattern>
    </defs>
    <rect width="100%" height="100%" fill="url(#currency-tile)" />
  </svg>

  <div class="app-container" id="app">
    <section class="screen active" id="login" aria-labelledby="login-title">
      <div class="login-container">
        <h1 class="logo" id="login-title">$lyde</h1>
        <div class="input-group">
          <label class="input-label" for="username">Username</label>
          <input class="input" type="text" id="username" placeholder="Copilotwhfk">
        </div>
        <div class="input-group">
          <label class="input-label" for="password">Password</label>
          <input class="input" type="password" id="password" placeholder="Sierra 2020">
        </div>
        <button class="btn" id="loginBtn" type="button">Sign In</button>
        <div style="height:16px"></div>
        <a class="link" href="#">Forgot Password?</a>
      </div>
    </section>

```
<section class="screen" id="dashboard" aria-labelledby="dash-title">
  <header class="header">
    <div class="status-row">
      <span>9:41 AM</span><span>$lyde</span><span>üì∂&nbsp;&nbsp;üîã</span>
    </div>
    <div class="nav-row">
      <div class="brand"><span class="brand-text" id="dash-title">$lyde</span></div>
      <button class="hamburger" id="hamburger" aria-expanded="false" aria-controls="menu" aria-label="Open menu">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <div class="menu" id="menu" role="menu" aria-label="Main menu">
        <button type="button" role="menuitem" data-screen="dashboard">Home</button>
        <button type="button" role="menuitem" data-screen="borrow">Borrow</button>
        <button type="button" role="menuitem" data-screen="lend">Lend</button>
        <button type="button" role="menuitem" data-screen="connect">Connect</button>
        <button type="button" role="menuitem" data-screen="profile">Profile</button>
      </div>
    </div>
  </header>

  <div class="content-area">
    <div class="lending-section">
      <div class="lending-card borrow" data-kind="borrow">
        <div class="amount">$10‚Äì$1,000</div><div class="rate">0.00%‚Äì50.00%</div><div style="margin-top:15px;font-weight:600">BORROW</div>
      </div>
      <div class="lending-card" data-kind="lend">
        <div class="amount">$25‚Äì$25,000</div><div class="rate">0.00%‚Äì50.00%</div><div style="margin-top:15px;font-weight:600">LEND</div>
      </div>
    </div>

    <section aria-labelledby="calc-title">
      <h3 id="calc-title" style="margin:0 0 8px 0;color:var(--secondary)">Loan Calculator</h3>

      <div class="quick-amounts">
        <div class="quick-amount-input">
          <input class="input" id="custom-amount" type="text" placeholder="Custom ($0‚Äì$25,000)" inputmode="numeric" aria-label="Custom amount (0 to 25,000)">
        </div>
        <button class="quick-amount active" data-amount="100" type="button">$100</button>
        <button class="quick-amount" data-amount="500" type="button">$500</button>
        <button class="quick-amount" data-amount="1000" type="button">$1000</button>
      </div>

      <div class="slider-container" style="margin-bottom:10px">
        <label for="rate-slider">Interest Rate: <span id="rate-display">5%</span></label>
        <input class="slider" id="rate-slider" type="range" min="0" max="50" value="5" aria-valuemin="0" aria-valuemax="50">
      </div>
      <div class="slider-container">
        <label for="term-slider">Term: <span id="term-display">12 months</span></label>
        <input class="slider" id="term-slider" type="range" min="1" max="36" value="12" aria-valuemin="1" aria-valuemax="36">
      </div>

      <div class="payback-row">
        <label class="input-label" for="payback-switch">Pay Back Amount</label>
        <label class="switch" aria-label="Toggle Pay Back Amount">
          <input type="checkbox" id="payback-switch" /><span class="switch-handle"></span>
        </label>
      </div>
      <div id="payback-container">
        <div class="payback-input" style="margin-bottom:6px">
          <input class="input" type="text" id="payback-amount" placeholder="Enter total to pay back">
        </div>
        <div class="hint" id="implied-rate-hint" style="display:none;margin-top:4px">Implied interest: <span id="implied-rate">0%</span> (capped at 200%).</div>
      </div>

      <div class="summary" style="margin-top:15px;text-align:center">
        <strong><span id="payment-label">Monthly Payment: </span>$<span id="monthly-payment">0.00</span></strong>
      </div>
    </section>

    <div class="payment-methods">
      <button class="payment-method" type="button">Weekly</button>
      <button class="payment-method" type="button">Biweekly</button>
      <button class="payment-method active" type="button">Monthly</button>
    </div>

    <button class="btn" id="viewActivityBtn" type="button">View All Activity</button>
  </div>
</section>

<section class="screen" id="borrow" aria-labelledby="borrow-title">
  <header class="header">
    <div class="status-row">
      <span>9:41 AM</span><span>$lyde</span><span>üì∂&nbsp;&nbsp;üîã</span>
    </div>
    <div class="nav-row">
      <div class="brand"><span class="brand-text" id="borrow-title">Borrow on $lyde</span></div>
      <button class="hamburger" id="hamburger-borrow" aria-expanded="false" aria-controls="menu-borrow" aria-label="Open menu">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <div class="menu" id="menu-borrow" role="menu" aria-label="Borrow menu">
        <button type="button" role="menuitem" data-screen="dashboard">Home</button>
        <button type="button" role="menuitem" data-screen="borrow">Borrow</button>
        <button type="button" role="menuitem" data-screen="lend">Lend</button>
        <button type="button" role="menuitem" data-screen="connect">Connect</button>
        <button type="button" role="menuitem" data-screen="profile">Profile</button>
      </div>
    </div>
  </header>

  <div class="content-area">
    <div class="panel">
      <h4>Borrow Details</h4>
      <div class="chips" id="borrow-purpose-chips" aria-label="Borrow purpose">
        <span class="chip active" data-purpose="General">General</span>
        <span class="chip" data-purpose="Bills">Bills</span>
        <span class="chip" data-purpose="Emergency">Emergency</span>
        <span class="chip" data-purpose="Rent">Rent</span>
        <span class="chip" data-purpose="Auto">Auto</span>
      </div>

      <div class="quick-amounts">
        <div class="quick-amount-input">
          <input class="input" id="custom-amount-borrow" type="text" placeholder="Custom ($0‚Äì$25,000)" inputmode="numeric" aria-label="Custom amount for borrowing">
        </div>
        <button class="quick-amount active" data-amount="100" type="button">$100</button>
        <button class="quick-amount" data-amount="300" type="button">$300</button>
        <button class="quick-amount" data-amount="1000" type="button">$1000</button>
      </div>

      <div class="row">
        <div class="slider-container">
          <label for="rate-borrow">Interest Rate: <span id="rate-display-borrow">10%</span></label>
          <input class="slider" id="rate-borrow" type="range" min="0" max="50" value="10" aria-valuemax="50">
        </div>
        <div class="slider-container">
          <label for="term-borrow">Term: <span id="term-display-borrow">6 months</span></label>
          <input class="slider" id="term-borrow" type="range" min="1" max="36" value="6">
        </div>
      </div>

      <div class="payback-row">
        <label class="input-label" for="payback-switch-borrow">Pay Back Amount</label>
        <label class="switch" aria-label="Toggle Pay Back Amount (Borrow)">
          <input type="checkbox" id="payback-switch-borrow" /><span class="switch-handle"></span>
        </label>
      </div>
      <div id="payback-container-borrow">
        <div class="payback-input" style="margin-bottom:6px">
          <input class="input" type="text" id="payback-amount-borrow" placeholder="Enter total to pay back">
        </div>
        <div class="hint" id="implied-rate-hint-borrow" style="display:none;margin-top:4px">
          Implied interest: <span id="implied-rate-borrow">0%</span> (capped at 200%).
        </div>
      </div>

      <div class="payment-methods" id="payment-methods-borrow">
        <button class="payment-method" type="button">Weekly</button>
        <button class="payment-method" type="button">Biweekly</button>
        <button class="payment-method active" type="button">Monthly</button>
      </div>

      <div class="summary" id="summary-borrow">
        <div><strong>Estimated Payment:</strong> <span id="borrow-payment-label">Monthly</span> $<span id="borrow-payment">0.00</span></div>
        <div class="muted" id="borrow-summary-line" style="margin-top:6px">Term 6 months ‚Ä¢ Interest 10% ‚Ä¢ Purpose General</div>
      </div>
    </div>

    <div class="inline-actions" style="margin-top:8px">
      <button class="btn-secondary btn" type="button" data-screen="dashboard">Back</button>
      <button class="btn" id="selectLenderBtn" type="button">Select Lender</button>
      <button class="btn" id="submitBorrow" type="button" style="display:none">Submit Borrow Request</button>
    </div>
  </div>
</section>

<section class="screen" id="lend" aria-labelledby="lend-title">
  <header class="header">
    <div class="status-row">
      <span>9:41 AM</span><span>$lyde</span><span>üì∂&nbsp;&nbsp;üîã</span>
    </div>
    <div class="nav-row">
      <div class="brand"><span class="brand-text" id="lend-title">Lend on $lyde</span></div>
      <button class="hamburger" id="hamburger-lend" aria-expanded="false" aria-controls="menu-lend" aria-label="Open menu">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <div class="menu" id="menu-lend" role="menu" aria-label="Lend menu">
        <button type="button" role="menuitem" data-screen="dashboard">Home</button>
        <button type="button" role="menuitem" data-screen="borrow">Borrow</button>
        <button type="button" role="menuitem" data-screen="lend">Lend</button>
        <button type="button" role="menuitem" data-screen="connect">Connect</button>
        <button type="button" role="menuitem" data-screen="profile">Profile</button>
      </div>
    </div>
  </header>

  <div class="content-area">
    <div class="panel">
      <h4>Lend Offer</h4>

      <div class="quick-amounts">
        <div class="quick-amount-input">
          <input class="input" id="custom-amount-lend" type="text" placeholder="Custom ($0‚Äì$25,000)" inputmode="numeric" aria-label="Custom amount to lend">
        </div>
        <button class="quick-amount active" data-amount="100" type="button">$100</button>
        <button class="quick-amount" data-amount="500" type="button">$500</button>
        <button class="quick-amount" data-amount="2500" type="button">$2500</button>
      </div>

      <div class="row">
        <div class="slider-container">
          <label for="rate-lend">Target APR: <span id="rate-display-lend">8%</span></label>
          <input class="slider" id="rate-lend" type="range" min="0" max="50" value="8" aria-valuemax="50">
        </div>
        <div class="slider-container">
          <label for="term-lend">Term: <span id="term-display-lend">12 months</span></label>
          <input class="slider" id="term-lend" type="range" min="1" max="36" value="12">
        </div>
      </div>

      <div class="chips" id="risk-chips" aria-label="Risk tier">
        <span class="chip active" data-risk="Balanced">Balanced</span>
        <span class="chip" data-risk="Conservative">Conservative</span>
        <span class="chip" data-risk="Growth">Growth</span>
      </div>

      <div class="payback-row">
        <label class="input-label" for="autoinvest-switch">Auto-Invest</label>
        <label class="switch" aria-label="Toggle Auto-Invest">
          <input type="checkbox" id="autoinvest-switch" /><span class="switch-handle"></span>
        </label>
      </div>
      <div class="hint">When enabled, your repayments auto-recycle into new offers in the selected risk tier.</div>

      <div class="panel" style="margin-top:14px">
        <h4>Funding Source</h4>
        <div class="payment-methods" id="funding-methods">
          <button class="payment-method active" type="button">Balance</button>
          <button class="payment-method" type="button">Bank</button>
          <button class="payment-method" type="button">Card</button>
        </div>
        <div class="muted">Available balance: <strong>$4,847.23</strong></div>
      </div>

      <div class="summary" id="summary-lend">
        <div><strong>Expected Payment:</strong> <span id="lend-payment-label">Monthly</span> $<span id="lend-payment">0.00</span></div>
        <div class="muted" id="lend-summary-line" style="margin-top:6px">Term 12 months ‚Ä¢ APR 8% ‚Ä¢ Risk Balanced</div>
      </div>
    </div>

    <div class="inline-actions" style="margin-top:8px">
      <button class="btn-secondary btn" type="button" data-screen="dashboard">Back</button>
      <button class="btn" id="publishLend" type="button">Publish Lend Offer</button>
    </div>
  </div>
</section>

<section class="screen" id="connect" aria-labelledby="connect-title">
  <header class="header">
    <div class="status-row">
      <span>9:41 AM</span><span>$lyde</span><span>üì∂&nbsp;&nbsp;üîã</span>
    </div>
    <div class="nav-row">
      <div class="brand"><span class="brand-text" id="connect-title">$lyde</span></div>
      <button class="hamburger" id="hamburger2" aria-expanded="false" aria-controls="menu2" aria-label="Open menu">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <div class="menu" id="menu2" role="menu" aria-label="Main menu">
        <button type="button" role="menuitem" data-screen="dashboard">Home</button>
        <button type="button" role="menuitem" data-screen="borrow">Borrow</button>
        <button type="button" role="menuitem" data-screen="lend">Lend</button>
        <button type="button" role="menuitem" data-screen="connect">Connect</button>
        <button type="button" role="menuitem" data-screen="profile">Profile</button>
      </div>
    </div>
  </header>

  <div class="content-area">
    <div class="balance-card">
      <div class="balance">$4,847.23</div>
      <div class="balance-subtitle">Available Balance</div>
    </div>

    <div class="connection-grid">
      <div class="connection-card" tabindex="0">
        <div class="connection-icon" aria-hidden="true">üí≥</div>
        <div style="font-weight:600">Bank</div>
        <div class="transaction-sub" style="margin-top:5px">Checking</div>
        <div style="background:var(--success);color:#fff;padding:4px 8px;border-radius:12px;font-size:10px;margin-top:8px;font-weight:700;display:inline-block">CONNECTED</div>
      </div>
      <div class="connection-card" tabindex="0">
        <div class="connection-icon" aria-hidden="true">‚Çø</div>
        <div style="font-weight:600">Crypto</div>
        <div class="transaction-sub" style="margin-top:5px">Bitcoin</div>
        <div style="background:var(--pending);color:#fff;padding:4px 8px;border-radius:12px;font-size:10px;margin-top:8px;font-weight:700;display:inline-block">PENDING</div>
      </div>
    </div>

    <div class="chart-container">
      <h3 style="margin-bottom:15px;color:var(--secondary)">Portfolio Performance</h3>
      <div class="mini-chart" role="img" aria-label="Performance chart">
        <svg width="100%" height="120" viewBox="0 0 300 120" xmlns="http://www.w3.org/2000/svg">
          <polyline fill="none" stroke="#183A67" stroke-width="3" points="0,90 60,70 120,50 180,55 240,30 300,35"></polyline>
          <circle cx="300" cy="35" r="4" fill="#183A67"></circle>
        </svg>
      </div>
      <div class="transaction-sub" style="margin-top:10px">+12.5% this month</div>
    </div>

    <button class="btn" id="addAccountBtn" type="button">Add Account</button>
  </div>
</section>

<section class="screen" id="profile" aria-labelledby="profile-title">
  <header class="header">
    <div class="status-row">
      <span>9:41 AM</span><span>$lyde</span><span>üì∂&nbsp;&nbsp;üîã</span>
    </div>
    <div class="nav-row">
      <div class="brand"><span class="brand-text" id="profile-title">$lyde</span></div>
      <button class="hamburger" id="hamburger3" aria-expanded="false" aria-controls="menu3" aria-label="Open menu">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <div class="menu" id="menu3" role="menu" aria-label="Main menu">
        <button type="button" role="menuitem" data-screen="dashboard">Home</button>
        <button type="button" role="menuitem" data-screen="borrow">Borrow</button>
        <button type="button" role="menuitem" data-screen="lend">Lend</button>
        <button type="button" role="menuitem" data-screen="connect">Connect</button>
        <button type="button" role="menuitem" data-screen="profile">Profile</button>
      </div>
    </div>
  </header>

  <div class="content-area">
    <div style="text-align:center;margin-bottom:30px">
      <div style="width:80px;height:80px;background:var(--secondary);border-radius:50%;margin:0 auto 15px;display:flex;align-items:center;justify-content:center;color:var(--primary);font-size:24px;font-weight:700">JS</div>
      <h3>John Smith</h3>
    </div>

    <div class="profile-section">
      <div class="profile-field"><span>Username</span><span class="transaction-sub">Copilotwhfk</span></div>
      <div class="profile-field"><span>Email</span><span class="transaction-sub">john@example.com</span></div>
      <div class="profile-field"><span>Billing Address</span><span class="transaction-sub">123 Maple Wood Pt</span></div>
      <div class="profile-field"><span>Full Name</span><span class="transaction-sub">John M. Smith</span></div>
      <div class="profile-field"><span>Campaign Pass</span><span class="transaction-sub">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 8347</span></div>
    </div>

    <button class="btn btn-secondary" id="editProfileBtn" type="button" style="margin-bottom:15px">Edit Profile</button>
    <button class="btn" id="signOutBtn" type="button">Sign Out</button>
  </div>
</section>

<section class="screen" id="activity" aria-labelledby="activity-title">
  <header class="header">
    <div class="status-row">
      <span>9:41 AM</span><span>$lyde</span><span>üì∂&nbsp;&nbsp;üîã</span>
    </div>
    <div class="nav-row">
      <div class="brand"><span class="brand-text" id="activity-title">$lyde</span></div>
      <button class="hamburger" id="hamburger4" aria-expanded="false" aria-controls="menu4" aria-label="Open menu">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <div class="menu" id="menu4" role="menu" aria-label="Main menu">
        <button type="button" role="menuitem" data-screen="dashboard">Home</button>
        <button type="button" role="menuitem" data-screen="borrow">Borrow</button>
        <button type="button" role="menuitem" data-screen="lend">Lend</button>
        <button type="button" role="menuitem" data-screen="connect">Connect</button>
        <button type="button" role="menuitem" data-screen="profile">Profile</button>
      </div>
    </div>
  </header>

  <div class="content-area">
    <div class="activity-item">
      <div class="activity-avatar">D</div>
      <div class="activity-details"><div class="transaction-type">David L</div><div class="transaction-sub">$300 Transfer ‚Ä¢ 4d term</div></div>
      <div class="activity-amount">$300.00</div>
    </div>
    <div class="activity-item">
      <div class="activity-avatar">J</div>
      <div class="activity-details"><div class="transaction-type">Jane M</div><div class="transaction-sub">$100 ‚Ä¢ $10 Monthly</div></div>
      <div class="activity-amount negative">-$100.00</div>
    </div>
    <div class="activity-item">
      <div class="activity-avatar">M</div>
      <div class="activity-details"><div class="transaction-type">Mike T</div><div class="transaction-sub">$50 ‚Ä¢ $15 Weekly</div></div>
      <div class="activity-amount negative">-$50.00</div>
    </div>
    <div class="activity-item">
      <div class="activity-avatar">S</div>
      <div class="activity-details"><div class="transaction-type">Sarah K</div><div class="transaction-sub">$75 ‚Ä¢ $25 Biweekly</div></div>
      <div class="activity-amount">$75.00</div>
    </div>
  </div>
</section>

<section class="screen" id="select-lender" aria-labelledby="lender-title">
  <header class="header">
    <div class="status-row">
      <span>9:41 AM</span><span>$lyde</span><span>üì∂&nbsp;&nbsp;üîã</span>
    </div>
    <div class="nav-row">
      <div class="brand"><span class="brand-text" id="lender-title">Select Lender</span></div>
      <button class="hamburger" id="hamburger-lender" aria-expanded="false" aria-controls="menu-lender" aria-label="Open menu">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <div class="menu" id="menu-lender" role="menu" aria-label="Lender menu">
        <button type="button" role="menuitem" data-screen="borrow">Back to Borrow</button>
      </div>
    </div>
  </header>

  <div class="content-area">
    <div class="panel">
      <h4>Choose from your contacts</h4>
      <div class="list" id="lenderList">
        <div class="list-item" data-name="David L">
          <div class="list-avatar">D</div>
          <div style="flex:1">
            <div style="font-weight:700">David L</div>
            <div class="muted">Active lender ‚Ä¢ Last activity: $300 Transfer</div>
          </div>
          <button class="btn" data-select>Choose</button>
        </div>
        <div class="list-item" data-name="Jane M">
          <div class="list-avatar">J</div>
          <div style="flex:1">
            <div style="font-weight:700">Jane M</div>
            <div class="muted">Pays monthly ‚Ä¢ Recent $100</div>
          </div>
          <button class="btn" data-select>Choose</button>
        </div>
        <div class="list-item" data-name="Mike T">
          <div class="list-avatar">M</div>
          <div style="flex:1">
            <div style="font-weight:700">Mike T</div>
            <div class="muted">Weekly plan ‚Ä¢ $50</div>
          </div>
          <button class="btn" data-select>Choose</button>
        </div>
        <div class="list-item" data-name="Sarah K">
          <div class="list-avatar">S</div>
          <div style="flex:1">
            <div style="font-weight:700">Sarah K</div>
            <div class="muted">Biweekly ‚Ä¢ $75</div>
          </div>
          <button class="btn" data-select>Choose</button>
        </div>
      </div>
    </div>

    <div class="inline-actions" style="margin-top:8px">
      <button class="btn-secondary btn" type="button" data-screen="borrow">Cancel</button>
    </div>
  </div>
</section>

<nav class="mobile-nav" aria-label="Primary">
  <button class="mobile-nav-btn active" data-screen="dashboard" type="button" aria-label="Home">üè†</button>
  <button class="mobile-nav-btn" data-screen="activity" type="button" aria-label="Activity">üìä</button>
  <button class="mobile-nav-btn" data-screen="connect" type="button" aria-label="Connect">üîó</button>
  <button class="mobile-nav-btn" data-screen="profile" type="button" aria-label="Profile">üë§</button>
  <button class="mobile-nav-btn" data-screen="borrow" type="button" aria-label="Borrow">üí∏</button>
  <button class="mobile-nav-btn" data-screen="lend" type="button" aria-label="Lend">ü§ù</button>
</nav>
```

  </div>

  <script>
    "use strict";

    var currentScreen = "login";
    var selectedAmount = 100;
    var interestRate = 5.0;
    var loanTerm = 12;
    var paymentFrequency = "monthly";
    var paybackEnabled = false;
    var paybackAmount = 0;
    var borrow = { amount:100, rate:10, term:6, frequency:"monthly", purpose:"General", paybackEnabled:false, paybackAmount:0, lenderName:null };
    var lend = { amount:100, rate:8, term:12, frequency:"monthly", risk:"Balanced", autoinvest:false, funding:"Balance" };

    function showScreen(screenId){
      var screens = document.querySelectorAll(".screen");
      for (var i=0;i<screens.length;i++){ screens[i].classList.remove("active"); }
      var target = document.getElementById(screenId);
      if (target){ target.classList.add("active"); currentScreen = screenId; }
      var mobBtns = document.querySelectorAll(".mobile-nav-btn");
      for (var k=0;k<mobBtns.length;k++){
        var mb = mobBtns[k];
        var scr = mb.getAttribute("data-screen");
        mb.classList.toggle("active", scr === screenId);
      }
      closeAllMenus();
      if (screenId === "borrow") { updateBorrowSummary(); updateBorrowLenderUI(); }
      if (screenId === "lend") updateLendSummary();
    }

    function clamp(val, min, max){ return Math.min(Math.max(val, min), max); }
    function parseCurrencyToNumber(str){ if (!str) return NaN; var cleaned = String(str).replace(/[^\d]/g,''); if (cleaned === "") return NaN; return parseInt(cleaned,10); }
    function formatCurrency(n){ n = Math.floor(n); return "$" + n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); }

    function periodsToYears(nPeriods, freq){
      if (freq === "weekly") return nPeriods / 52;
      if (freq === "biweekly") return nPeriods / 26;
      return nPeriods / 12;
    }
    function computeSimpleInterestPayment(principal, aprPct, nPeriods, freq){
      if (nPeriods <= 0) return { total: principal, per: principal, years: 0 };
      var years = periodsToYears(nPeriods, freq);
      var total = principal * (1 + (aprPct/100) * years);
      var per = total / nPeriods;
      return { total: total, per: per, years: years };
    }

    function impliedAprFromTotal(principal, total, nPeriods, freq){
      var years = periodsToYears(nPeriods, freq);
      if (principal <= 0 || years <= 0) return 0;
      var apr = ((total / principal) - 1) / years * 100;
      return apr;
    }

    function labelForFreq(freq){ if (freq === "weekly") return "Weekly"; if (freq === "biweekly") return "Biweekly"; return "Monthly"; }

    function selectAmount(amount, el){
      selectedAmount = amount;
      var qa = document.querySelectorAll(".screen#dashboard .quick-amount");
      for (var i=0;i<qa.length;i++){ qa[i].classList.remove("active"); }
      if (el){ el.classList.add("active"); }
      calculatePayment();
    }

    function updateRate(rate){
      interestRate = parseFloat(rate);
      var d = document.getElementById("rate-display");
      if (d){ d.textContent = rate + "%"; }
      calculatePayment();
    }

    function updateTerm(term){
      loanTerm = parseInt(term, 10);
      var d = document.getElementById("term-display");
      if (d){
        var text = String(term);
        if (paymentFrequency === "weekly") text += " weeks";
        else if (paymentFrequency === "biweekly") text += " biweeks";
        else text += " months";
        d.textContent = text;
      }
      calculatePayment();
    }

    function calculatePayment(){
      var principal = selectedAmount;
      var totalPayments = loanTerm;
      var label = (paymentFrequency === "weekly") ? "Weekly Payment: " :
                  (paymentFrequency === "biweekly") ? "Biweekly Payment: " :
                  "Monthly Payment: ";
      var payment = 0;

      if (paybackEnabled){
        var maxTotal = principal * 3;
        var totalOwed = paybackAmount > 0 ? paybackAmount : principal;
        totalOwed = clamp(totalOwed, 0, maxTotal);
        payment = (totalPayments > 0) ? (totalOwed / totalPayments) : totalOwed;
        var rateSlider = document.getElementById("rate-slider");
        if (rateSlider){ rateSlider.setAttribute("disabled","disabled"); }
        var impliedWrap = document.getElementById("implied-rate-hint");
        var impliedSpan = document.getElementById("implied-rate");
        if (impliedWrap && impliedSpan){
          var aprImp = impliedAprFromTotal(principal, totalOwed, totalPayments, paymentFrequency);
          if (aprImp > 200) aprImp = 200;
          impliedSpan.textContent = isFinite(aprImp) ? aprImp.toFixed(0) + "%" : "0%";
          impliedWrap.style.display = "block";
        }
      } else {
        var rateSlider2 = document.getElementById("rate-slider");
        if (rateSlider2){ rateSlider2.removeAttribute("disabled"); }
        var impliedWrap2 = document.getElementById("implied-rate-hint");
        if (impliedWrap2){ impliedWrap2.style.display = "none"; }
        var res = computeSimpleInterestPayment(principal, interestRate, totalPayments, paymentFrequency);
        payment = res.per;
      }

      var out = document.getElementById("monthly-payment");
      var lab = document.getElementById("payment-label");
      if (out){ out.textContent = (isFinite(payment) ? payment : 0).toFixed(2); }
      if (lab){ lab.textContent = label; }
    }

    function updateBorrowSummary(){
      var lbl = document.getElementById("borrow-payment-label");
      var out = document.getElementById("borrow-payment");
      var sub = document.getElementById("borrow-summary-line");
      if (!lbl || !out || !sub) return;

      lbl.textContent = labelForFreq(borrow.frequency);

      var per = 0;
      if (borrow.paybackEnabled){
        var maxTotal = borrow.amount * 3;
        var totalOwed = clamp(borrow.paybackAmount || borrow.amount, 0, maxTotal);
        per = (borrow.term > 0) ? (totalOwed / borrow.term) : totalOwed;
        var impliedWrap = document.getElementById("implied-rate-hint-borrow");
        var impliedSpan = document.getElementById("implied-rate-borrow");
        if (impliedWrap && impliedSpan){
          var aprImp = impliedAprFromTotal(borrow.amount, totalOwed, borrow.term, borrow.frequency);
          if (aprImp > 200) aprImp = 200;
          impliedSpan.textContent = isFinite(aprImp) ? aprImp.toFixed(0) + "%" : "0%";
          impliedWrap.style.display = "block";
        }
      } else {
        var impliedWrap2 = document.getElementById("implied-rate-hint-borrow");
        if (impliedWrap2){ impliedWrap2.style.display = "none"; }
        var resB = computeSimpleInterestPayment(borrow.amount, borrow.rate, borrow.term, borrow.frequency);
        per = resB.per;
      }

      out.textContent = (isFinite(per) ? per : 0).toFixed(2);
      sub.textContent = "Term " + borrow.term + " " + (borrow.frequency === "monthly" ? "months" : (borrow.frequency === "weekly" ? "weeks" : "biweeks")) +
                       " ‚Ä¢ " + (borrow.paybackEnabled ? "Pay Back set" : ("Interest " + borrow.rate + "%")) +
                       " ‚Ä¢ Purpose " + borrow.purpose;
    }

    function updateBorrowLenderUI(){
      var selectBtn = document.getElementById("selectLenderBtn");
      var submitBtn = document.getElementById("submitBorrow");
      if (!selectBtn || !submitBtn) return;

      if (borrow.lenderName){
        selectBtn.textContent = borrow.lenderName;
        selectBtn.classList.add("pill");
        submitBtn.style.display = "inline-block";
        submitBtn.classList.add("btn-success-neon");
      } else {
        selectBtn.textContent = "Select Lender";
        selectBtn.classList.remove("pill");
        submitBtn.style.display = "none";
        submitBtn.classList.remove("btn-success-neon");
      }
    }

    function updateLendSummary(){
      var lbl = document.getElementById("lend-payment-label");
      var out = document.getElementById("lend-payment");
      var sub = document.getElementById("lend-summary-line");
      if (!lbl || !out || !sub) return;

      lbl.textContent = labelForFreq(lend.frequency);
      var resL = computeSimpleInterestPayment(lend.amount, lend.rate, lend.term, lend.frequency);
      out.textContent = (isFinite(resL.per) ? resL.per : 0).toFixed(2);
      sub.textContent = "Term " + lend.term + " " + (lend.frequency === "monthly" ? "months" : (lend.frequency === "weekly" ? "weeks" : "biweeks")) +
                        " ‚Ä¢ APR " + lend.rate + "% ‚Ä¢ Risk " + lend.risk;
    }

    function toggleMenu(btn, menu){
      var open = menu.classList.toggle("open");
      btn.setAttribute("aria-expanded", String(open));
      if (open){ document.addEventListener("click", outsideClose); document.addEventListener("keydown", escClose); }
    }
    function closeAllMenus(){
      var menus = document.querySelectorAll(".menu");
      var burgers = document.querySelectorAll(".hamburger");
      for (var i=0;i<menus.length;i++){ menus[i].classList.remove("open"); }
      for (var j=0;j<burgers.length;j++){ burgers[j].setAttribute("aria-expanded","false"); }
      document.removeEventListener("click", outsideClose); document.removeEventListener("keydown", escClose);
    }
    function outsideClose(e){ var menu = e.target.closest(".menu"); var burger = e.target.closest(".hamburger"); if (!menu && !burger){ closeAllMenus(); } }
    function escClose(e){ if (e.key === "Escape"){ closeAllMenus(); } }

    document.addEventListener("DOMContentLoaded", function(){
      var loginBtn = document.getElementById("loginBtn");
      if (loginBtn){ loginBtn.addEventListener("click", function(){ showScreen("dashboard"); }); }

      var mob = document.querySelectorAll(".mobile-nav-btn");
      for (var i=0;i<mob.length;i++){
        mob[i].addEventListener("click", function(){ var id = this.getAttribute("data-screen"); if (id){ showScreen(id); }});
      }

      var cards = document.querySelectorAll(".lending-card");
      for (var j=0;j<cards.length;j++){
        cards[j].addEventListener("click", function(){
          var kind = this.getAttribute("data-kind");
          if (kind === "borrow"){ showScreen("borrow"); } else if (kind === "lend"){ showScreen("lend"); }
        });
      }

      var conns = document.querySelectorAll(".connection-card");
      for (var k=0;k<conns.length;k++){ conns[k].addEventListener("click", function(){ alert("Add Account feature coming soon!"); }); }

      var qaDash = document.querySelectorAll("#dashboard .quick-amount");
      for (var q=0;q<qaDash.length;q++){
        qaDash[q].addEventListener("click", function(){
          var amt = parseFloat(this.getAttribute("data-amount"));
          if (!isNaN(amt)){
            var customInput = document.getElementById("custom-amount");
            if (customInput){ customInput.value = ""; }
            selectAmount(amt, this);
          }
        });
      }

      var customDash = document.getElementById("custom-amount");
      if (customDash){
        customDash.addEventListener("input", function(){
          var digits = this.value.replace(/[^\d]/g,'');
          if (digits === ""){ this.value = ""; return; }
          var n = clamp(parseInt(digits,10), 0, 25000);
          var qaBtns = document.querySelectorAll("#dashboard .quick-amount");
          for (var i2=0;i2<qaBtns.length;i2++){ qaBtns[i2].classList.remove("active"); }
          selectAmount(n, null);
          this.value = formatCurrency(n);
          try{ this.setSelectionRange(this.value.length, this.value.length); }catch(e){}
        });
      }

      var rateSlider = document.getElementById("rate-slider");
      var termSlider = document.getElementById("term-slider");
      if (rateSlider){ rateSlider.addEventListener("input", function(){ updateRate(this.value); }); }
      if (termSlider){ termSlider.addEventListener("input", function(){ updateTerm(this.value); }); }

      var methods = document.querySelectorAll("#dashboard .payment-method");
      for (var m=0;m<methods.length;m++){
        methods[m].addEventListener("click", function(){
          for (var n=0;n<methods.length;n++){ methods[n].classList.remove("active"); }
          this.classList.add("active");
          var txt = this.textContent.toLowerCase();
          var ts = document.getElementById("term-slider");

          if (txt.indexOf("weekly") !== -1 && txt.indexOf("biweekly") === -1){
            paymentFrequency = "weekly"; if (ts){ ts.max = "52"; ts.value = "12"; loanTerm = 12; }
          } else if (txt.indexOf("biweekly") !== -1){
            paymentFrequency = "biweekly"; if (ts){ ts.max = "26"; ts.value = "12"; loanTerm = 12; }
          } else {
            paymentFrequency = "monthly"; if (ts){ ts.max = "36"; ts.value = "12"; loanTerm = 12; }
          }
          updateTerm(loanTerm);
        });
      }

      var viewActivityBtn = document.getElementById("viewActivityBtn");
      if (viewActivityBtn){ viewActivityBtn.addEventListener("click", function(){ showScreen("activity"); }); }

      var editProfileBtn = document.getElementById("editProfileBtn");
      if (editProfileBtn){ editProfileBtn.addEventListener("click", function(){ alert("Edit profile feature coming soon!"); }); }
      var signOutBtn = document.getElementById("signOutBtn");
      if (signOutBtn){ signOutBtn.addEventListener("click", function(){ showScreen("login"); }); }

      var paySwitch = document.getElementById("payback-switch");
      var payContainer = document.getElementById("payback-container");
      var payInput = document.getElementById("payback-amount");
      if (paySwitch){
        paySwitch.addEventListener("change", function(){
          paybackEnabled = this.checked;
          if (payContainer){ payContainer.style.display = this.checked ? "block" : "none"; }
          var rs = document.getElementById("rate-slider");
          if (rs){ this.checked ? rs.setAttribute("disabled","disabled") : rs.removeAttribute("disabled"); }
          if (payInput){
            if (!this.checked){ payInput.value = ""; paybackAmount = 0; } else { payInput.focus(); }
          }
          calculatePayment();
        });
      }
      if (payInput){
        payInput.addEventListener("input", function(){
          var raw = parseCurrencyToNumber(this.value);
          if (isNaN(raw)){ this.value = ""; paybackAmount = 0; calculatePayment(); return; }
          var cap = selectedAmount * 3;
          var n = clamp(raw, 0, cap);
          paybackAmount = n;
          this.value = formatCurrency(n);
          try{ this.setSelectionRange(this.value.length, this.value.length); }catch(e){}
          calculatePayment();
        });
      }

      var purposeWrap = document.getElementById("borrow-purpose-chips");
      if (purposeWrap){
        purposeWrap.addEventListener("click", function(e){
          var chip = e.target.closest(".chip"); if (!chip) return;
          var chips = purposeWrap.querySelectorAll(".chip"); for (var i=0;i<chips.length;i++){ chips[i].classList.remove("active"); }
          chip.classList.add("active"); borrow.purpose = chip.getAttribute("data-purpose"); updateBorrowSummary();
        });
      }

      var qaBorrow = document.querySelectorAll("#borrow .quick-amount");
      for (var qb=0; qb<qaBorrow.length; qb++){
        qaBorrow[qb].addEventListener("click", function(){
          var amt = parseFloat(this.getAttribute("data-amount"));
          if (!isNaN(amt)){
            var custom = document.getElementById("custom-amount-borrow"); if (custom){ custom.value = ""; }
            var all = document.querySelectorAll("#borrow .quick-amount"); for (var i=0;i<all.length;i++){ all[i].classList.remove("active"); }
            this.classList.add("active"); borrow.amount = amt; updateBorrowSummary();
          }
        });
      }

      var customBorrow = document.getElementById("custom-amount-borrow");
      if (customBorrow){
        customBorrow.addEventListener("input", function(){
          var digits = this.value.replace(/[^\d]/g,''); if (digits === ""){ this.value = ""; return; }
          var n = clamp(parseInt(digits,10), 0, 25000);
          var buttons = document.querySelectorAll("#borrow .quick-amount"); for (var i=0;i<buttons.length;i++){ buttons[i].classList.remove("active"); }
          borrow.amount = n; this.value = formatCurrency(n); try{ this.setSelectionRange(this.value.length, this.value.length); }catch(e){}
          updateBorrowSummary();
        });
      }

      var rateBorrow = document.getElementById("rate-borrow");
      var rateBorrowLbl = document.getElementById("rate-display-borrow");
      var termBorrow = document.getElementById("term-borrow");
      var termBorrowLbl = document.getElementById("term-display-borrow");

      if (rateBorrow){
        rateBorrow.addEventListener("input", function(){
          borrow.rate = parseFloat(this.value); if (rateBorrowLbl) rateBorrowLbl.textContent = borrow.rate + "%"; updateBorrowSummary();
        });
      }
      if (termBorrow){
        termBorrow.addEventListener("input", function(){
          borrow.term = parseInt(this.value,10);
          var txt = String(borrow.term); if (borrow.frequency === "weekly") txt += " weeks"; else if (borrow.frequency === "biweekly") txt += " biweeks"; else txt += " months";
          if (termBorrowLbl) termBorrowLbl.textContent = txt; updateBorrowSummary();
        });
      }

      var pmBorrow = document.querySelectorAll("#borrow .payment-method");
      for (var pb=0; pb<pmBorrow.length; pb++){
        pmBorrow[pb].addEventListener("click", function(){
          for (var j2=0;j2<pmBorrow.length;j2++){ pmBorrow[j2].classList.remove("active"); }
          this.classList.add("active");
          var txt = this.textContent.toLowerCase();
          var ts = document.getElementById("term-borrow");
          if (txt.indexOf("weekly") !== -1 && txt.indexOf("biweekly") === -1){
            borrow.frequency = "weekly"; if (ts){ ts.max = "52"; ts.value = "12"; borrow.term = 12; }
          } else if (txt.indexOf("biweekly") !== -1){
            borrow.frequency = "biweekly"; if (ts){ ts.max = "26"; ts.value = "12"; borrow.term = 12; }
          } else {
            borrow.frequency = "monthly"; if (ts){ ts.max = "36"; ts.value = "6"; borrow.term = 6; }
          }
          if (termBorrowLbl){
            var t = borrow.term + (borrow.frequency === "monthly" ? " months" : borrow.frequency === "weekly" ? " weeks" : " biweeks");
            termBorrowLbl.textContent = t;
          }
          updateBorrowSummary();
        });
      }

      var paySwitchBorrow = document.getElementById("payback-switch-borrow");
      var payContainerBorrow = document.getElementById("payback-container-borrow");
      var payInputBorrow = document.getElementById("payback-amount-borrow");

      if (paySwitchBorrow){
        paySwitchBorrow.addEventListener("change", function(){
          borrow.paybackEnabled = this.checked;
          if (payContainerBorrow){ payContainerBorrow.style.display = this.checked ? "block" : "none"; }
          if (rateBorrow){ this.checked ? rateBorrow.setAttribute("disabled","disabled") : rateBorrow.removeAttribute("disabled"); }
          if (payInputBorrow){
            if (!this.checked){ payInputBorrow.value=""; borrow.paybackAmount=0; } else { payInputBorrow.focus(); }
          }
          updateBorrowSummary();
        });
      }
      if (payInputBorrow){
        payInputBorrow.addEventListener("input", function(){
          var raw = parseCurrencyToNumber(this.value);
          if (isNaN(raw)){ this.value = ""; borrow.paybackAmount = 0; updateBorrowSummary(); return; }
          var cap = borrow.amount * 3; var n = clamp(raw, 0, cap);
          borrow.paybackAmount = n; this.value = formatCurrency(n); try{ this.setSelectionRange(this.value.length, this.value.length); }catch(e){}
          updateBorrowSummary();
        });
      }

      var selectLenderBtn = document.getElementById("selectLenderBtn");
      if (selectLenderBtn){
        selectLenderBtn.addEventListener("click", function(){
          showScreen("select-lender");
        });
      }

      var submitBorrow = document.getElementById("submitBorrow");
      if (submitBorrow){
        submitBorrow.addEventListener("click", function(){
          var lender = borrow.lenderName ? (" ‚Ä¢ Lender " + borrow.lenderName) : "";
          alert("Borrow request submitted (mock). Amount " + formatCurrency(borrow.amount) + " ‚Ä¢ " + labelForFreq(borrow.frequency) + " payment $" + document.getElementById("borrow-payment").textContent + lender);
        });
      }

      var qaLend = document.querySelectorAll("#lend .quick-amount");
      for (var ql=0; ql<qaLend.length; ql++){
        qaLend[ql].addEventListener("click", function(){
          var amt = parseFloat(this.getAttribute("data-amount"));
          if (!isNaN(amt)){
            var custom = document.getElementById("custom-amount-lend"); if (custom){ custom.value = ""; }
            var all = document.querySelectorAll("#lend .quick-amount"); for (var i=0;i<all.length;i++){ all[i].classList.remove("active"); }
            this.classList.add("active"); lend.amount = amt; updateLendSummary();
          }
        });
      }

      var customLend = document.getElementById("custom-amount-lend");
      if (customLend){
        customLend.addEventListener("input", function(){
          var digits = this.value.replace(/[^\d]/g,'');
          if (digits === "") { this.value = ""; return; }
          var n = clamp(parseInt(digits,10), 0, 25000);
          var buttons = document.querySelectorAll("#lend .quick-amount");
          for (var i=0;i<buttons.length;i++){ buttons[i].classList.remove("active"); }
          lend.amount = n;
          this.value = formatCurrency(n);
          try{ this.setSelectionRange(this.value.length, this.value.length); }catch(e){}
          updateLendSummary();
        });
      }

      var rateLend = document.getElementById("rate-lend");
      var rateLendLbl = document.getElementById("rate-display-lend");
      var termLend = document.getElementById("term-lend");
      var termLendLbl = document.getElementById("term-display-lend");

      if (rateLend){
        rateLend.addEventListener("input", function(){
          lend.rate = parseFloat(this.value);
          if (rateLendLbl) rateLendLbl.textContent = lend.rate + "%";
          updateLendSummary();
        });
      }
      if (termLend){
        termLend.addEventListener("input", function(){
          lend.term = parseInt(this.value,10);
          var txt = String(lend.term);
          if (lend.frequency === "weekly") txt += " weeks";
          else if (lend.frequency === "biweekly") txt += " biweeks";
          else txt += " months";
          if (termLendLbl) termLendLbl.textContent = txt;
          updateLendSummary();
        });
      }

      var lendFreqBtns = document.querySelectorAll("#lend .payment-methods:not(#funding-methods) .payment-method");
      for (var lf=0; lf<lendFreqBtns.length; lf++){
        lendFreqBtns[lf].addEventListener("click", function(){
          for (var j=0;j<lendFreqBtns.length;j++){ lendFreqBtns[j].classList.remove("active"); }
          this.classList.add("active");
          var txt = this.textContent.toLowerCase();
          if (txt.indexOf("weekly") !== -1 && txt.indexOf("biweekly") === -1){
            lend.frequency = "weekly"; if (termLend){ termLend.max = "52"; termLend.value = "12"; lend.term = 12; }
          } else if (txt.indexOf("biweekly") !== -1){
            lend.frequency = "biweekly"; if (termLend){ termLend.max = "26"; termLend.value = "12"; lend.term = 12; }
          } else {
            lend.frequency = "monthly"; if (termLend){ termLend.max = "36"; termLend.value = "12"; lend.term = 12; }
          }
          var t = lend.term + (lend.frequency === "monthly" ? " months" : lend.frequency === "weekly" ? " weeks" : " biweeks");
          if (termLendLbl) termLendLbl.textContent = t;
          updateLendSummary();
        });
      }

      var riskWrap = document.getElementById("risk-chips");
      if (riskWrap){
        riskWrap.addEventListener("click", function(e){
          var chip = e.target.closest(".chip"); if (!chip) return;
          var chips = riskWrap.querySelectorAll(".chip");
          for (var i=0;i<chips.length;i++){ chips[i].classList.remove("active"); }
          chip.classList.add("active");
          lend.risk = chip.getAttribute("data-risk");
          updateLendSummary();
        });
      }

      var fundingWrap = document.getElementById("funding-methods");
      if (fundingWrap){
        var opts = fundingWrap.querySelectorAll(".payment-method");
        for (var i=0;i<opts.length;i++){
          opts[i].addEventListener("click", function(){
            for (var j=0;j<opts.length;j++){ opts[j].classList.remove("active"); }
            this.classList.add("active");
            lend.funding = this.textContent.trim();
          });
        }
      }

      var autoSwitch = document.getElementById("autoinvest-switch");
      if (autoSwitch){
        autoSwitch.addEventListener("change", function(){
          lend.autoinvest = this.checked;
        });
      }

      var publishBtn = document.getElementById("publishLend");
      if (publishBtn){
        publishBtn.addEventListener("click", function(){
          alert("Lend offer published (mock). Amount " + formatCurrency(lend.amount) +
                " ‚Ä¢ " + lend.term + " " + (lend.frequency==="monthly"?"months":lend.frequency==="weekly"?"weeks":"biweeks") +
                " ‚Ä¢ APR " + lend.rate + "% ‚Ä¢ Risk " + lend.risk +
                " ‚Ä¢ Funding " + lend.funding +
                (lend.autoinvest ? " ‚Ä¢ Auto-Invest ON" : ""));
        });
      }

      var lenderList = document.getElementById("lenderList");
      if (lenderList){
        lenderList.addEventListener("click", function(e){
          var btn = e.target.closest("[data-select]");
          if (!btn) return;
          var item = btn.closest(".list-item");
          if (!item) return;
          var name = item.getAttribute("data-name");
          borrow.lenderName = name || null;
          showScreen("borrow");
          updateBorrowLenderUI();
        });
      }

      document.body.addEventListener("click", function(e){
        var nav = e.target.closest("button[data-screen]");
        if (nav){
          var scr = nav.getAttribute("data-screen");
          if (scr){ showScreen(scr); }
        }
      });

      function bindHamburger(btnId, menuId){
        var btn = document.getElementById(btnId);
        var menu = document.getElementById(menuId);
        if (!btn || !menu) return;
        btn.addEventListener("click", function(ev){
          ev.stopPropagation();
          toggleMenu(btn, menu);
        });
      }
      bindHamburger("hamburger","menu");
      bindHamburger("hamburger-borrow","menu-borrow");
      bindHamburger("hamburger-lend","menu-lend");
      bindHamburger("hamburger2","menu2");
      bindHamburger("hamburger3","menu3");
      bindHamburger("hamburger4","menu4");
      bindHamburger("hamburger-lender","menu-lender");

      calculatePayment();
      updateBorrowSummary();
      updateBorrowLenderUI();
      updateLendSummary();
    });
  </script>

</body>
</html>




          





          